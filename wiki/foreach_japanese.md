<!--
Meta Description: # CSharpのforeach文: 効率的なコレクションの走査方法 ## 概要 CSharpの`foreach`文は、コレクションや配列などの反復処理を簡単に行うための制御構文です。これにより、要素を一つずつ取り出しながら処理することが可能になり、コードの可読性と保守性が向上します。 ## ドキュ...
Meta Keywords: foreach, csharp, int, csharpの, string
-->

# CSharpのforeach文: 効率的なコレクションの走査方法

## 概要
CSharpの`foreach`文は、コレクションや配列などの反復処理を簡単に行うための制御構文です。これにより、要素を一つずつ取り出しながら処理することが可能になり、コードの可読性と保守性が向上します。

## ドキュメンテーション
`foreach`文は、特にコレクションや配列の要素を反復処理する際に利用されます。この文を使用することで、インデックスを管理することなく、コレクション内の全ての要素にアクセスすることができます。基本的な構文は次の通りです。

```csharp
foreach (型 変数名 in コレクション)
{
    // 変数名を用いた処理
}
```

### 目的
`foreach`文は、コレクションの要素を簡潔に処理することを目的としています。特に、配列やリストの要素に対してループを実行する場合に重宝します。

### 使用法
`foreach`文は、配列、リスト、辞書、集合などのコレクションに対して使用できます。要素を1つずつ取り出し、指定された処理を実行します。

## 例
以下は、`foreach`文の基本的な使用例です。

### 配列の例
```csharp
string[] fruits = { "りんご", "バナナ", "みかん" };
foreach (string fruit in fruits)
{
    Console.WriteLine(fruit);
}
```

### リストの例
```csharp
List<int> numbers = new List<int> { 1, 2, 3, 4, 5 };
foreach (int number in numbers)
{
    Console.WriteLine(number * 2);
}
```

## 説明
`foreach`文にはいくつかの注意点があります。

1. **変更不可**: `foreach`ループ内でコレクション自体を変更すると、例外がスローされることがあります。例えば、要素を追加または削除すると、`InvalidOperationException`が発生します。
  
2. **パフォーマンス**: コレクションのサイズが非常に大きい場合、`foreach`文を使用するとパフォーマンスに影響を与えることがあります。特に、LINQクエリと組み合わせる場合は注意が必要です。

3. **型安全性**: `foreach`文は型安全です。コレクション内の要素の型と`foreach`文で宣言した変数の型が一致しない場合、コンパイルエラーが発生します。

## 一文要約
CSharpの`foreach`文は、コレクションの要素を簡単かつ安全に反復処理するための便利な制御構文です。