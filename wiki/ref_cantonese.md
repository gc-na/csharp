<!--
Meta Description: # C# 中的 "ref" 關鍵字: 參考傳遞的力量 ## 簡介 在 C# 中，`ref` 關鍵字用於將參數按引用傳遞，這意味著方法可以直接修改傳遞給它的變數的值。這對於需要在方法內部更新變數的情況非常有用。 ## 文件 ### 目的 `ref` 允許我們在方法中更改參數的值，這樣這些更改將反映在調...
Meta Keywords: ref, number, 關鍵字, static, void
-->

# C# 中的 "ref" 關鍵字: 參考傳遞的力量

## 簡介
在 C# 中，`ref` 關鍵字用於將參數按引用傳遞，這意味著方法可以直接修改傳遞給它的變數的值。這對於需要在方法內部更新變數的情況非常有用。

## 文件
### 目的
`ref` 允許我們在方法中更改參數的值，這樣這些更改將反映在調用方法的上下文中。這對於處理大型數據結構或需要多個返回值的情況特別有用。

### 使用方法
使用 `ref` 時，必須在方法的參數列表和調用方法時都明確指定 `ref` 關鍵字。這樣可以確保編譯器知道參數是按引用傳遞的。

### 詳細說明
當一個變數通過 `ref` 傳遞時，方法接收的是對該變數的引用，而不是其副本。這意味著在方法內部對該變數的任何更改都會影響到原始變數。需要注意的是，傳遞給 `ref` 的變數在傳遞之前必須已經初始化。

## 示例
以下是使用 `ref` 的基本示例：

```csharp
using System;

class Program
{
    static void Main()
    {
        int number = 10;
        Console.WriteLine($"原始數字: {number}");
        
        ModifyNumber(ref number);
        
        Console.WriteLine($"修改後的數字: {number}");
    }

    static void ModifyNumber(ref int num)
    {
        num += 5;
    }
}
```
輸出：
```
原始數字: 10
修改後的數字: 15
```

## 說明
- **常見問題**：
  - 確保傳遞的變數已初始化。未初始化的變數使用 `ref` 會導致編譯錯誤。
  - `ref` 參數必須在方法定義和調用時都使用 `ref` 標記，否則會報錯。
  
- **注意事項**：
  - `ref` 參數可以是任何數據類型，包括基本類型和用戶自定義類型。
  - 在性能方面，`ref` 可以避免大型對象的複製，這對於性能敏感的應用尤其重要。

## 總結
`ref` 關鍵字在 C# 中允許方法按引用傳遞參數，讓變數的更改能夠直接反映在調用上下文中。