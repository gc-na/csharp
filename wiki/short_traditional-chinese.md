<!--
Meta Description: # CSharp 的 short 類型：簡介與使用指南 ## 概述 在 CSharp 中，`short` 是一種基本數據類型，代表 16 位元的整數，範圍從 -32,768 到 32,767。它主要用於需要節省記憶體空間的場景，並且在處理小範圍整數時非常有用。 ## 文檔 ### 目的 `short...
Meta Keywords: short, csharp, int, 768, 767
-->

# CSharp 的 short 類型：簡介與使用指南

## 概述
在 CSharp 中，`short` 是一種基本數據類型，代表 16 位元的整數，範圍從 -32,768 到 32,767。它主要用於需要節省記憶體空間的場景，並且在處理小範圍整數時非常有用。

## 文檔
### 目的
`short` 類型的主要目的是提供一個佔用較小記憶體的整數類型，適合用於需要大量整數運算的應用，尤其是在嵌入式系統或資源有限的環境中。

### 使用方式
在 CSharp 中，可以通過以下方式宣告 `short` 變量：

```csharp
short myShort = 1000;
```

`short` 變量可以參與數學運算、比較等操作，與其他整數類型（如 `int`、`long`）之間也能自動轉換。

### 詳細說明
- **範圍**：`short` 的值範圍從 -32,768 到 32,767，超出此範圍會導致溢出。
- **記憶體使用**：`short` 佔用 2 個位元組（16 位元），相較於 `int`（4 個位元組）更節省記憶體。
- **預設值**：未初始化的 `short` 變數會被預設為 0。

## 範例
以下是 `short` 類型的基本使用範例：

```csharp
using System;

class Program
{
    static void Main()
    {
        short a = 32767; // 最大值
        short b = -32768; // 最小值

        // 數學運算
        short sum = (short)(a + 1); // 溢出處理，會返回 -32768
        Console.WriteLine(sum);
        
        // 顯示結果
        Console.WriteLine($"a: {a}, b: {b}");
    }
}
```

## 解釋
### 常見陷阱
1. **溢出問題**：如果計算結果超出 `short` 的範圍，將會產生溢出。可以使用 `checked` 關鍵字來防止意外溢出。
   ```csharp
   short c = 32767;
   short result = checked((short)(c + 1)); // 會引發溢出例外
   ```

2. **隱式轉換**：在將 `short` 變量賦值給 `int` 或其他更大類型時會自動轉換，但從 `int` 或其他類型轉換回 `short` 時必須明確地轉型，否則會發生編譯錯誤。

3. **初始化**：未初始化的 `short` 變數將默認為 0，但在使用前仍建議顯式初始化以提高代碼可讀性。

## 一句總結
`short` 是 CSharp 中的 16 位元整數類型，適合用於節省記憶體的整數運算。