<!--
Meta Description: # استخدام عبارة "try" في C#: الدليل الشامل ## الملخص عبارة "try" في C# تُستخدم لإدارة استثناءات البرمجة، مما يسمح للمطورين بالتعامل مع الأخطاء بطريقة ...
Meta Keywords: try, استخدام, catch, finally, عبارة
-->

# استخدام عبارة "try" في C#: الدليل الشامل

## الملخص
عبارة "try" في C# تُستخدم لإدارة استثناءات البرمجة، مما يسمح للمطورين بالتعامل مع الأخطاء بطريقة منظمة وآمنة.

## الوثائق
عبارة "try" هي جزء من نظام إدارة الاستثناءات في C#. تُستخدم لتغليف الكود الذي قد يؤدي إلى استثناء، مما يتيح لك تنفيذ كود بديل إذا حدث خطأ. يتكون هيكلها من ثلاثة أجزاء رئيسية: `try`, `catch`, و `finally`. 

### الغرض
الغرض من استخدام عبارة "try" هو توفير طريقة للتحكم في الأخطاء التي قد تحدث أثناء تنفيذ البرنامج، مما يمكن المطورين من تحسين استقرار التطبيقات.

### الاستخدام
يتم استخدام عبارة "try" كالتالي:

```csharp
try
{
    // الكود الذي قد يحدث فيه استثناء
}
catch (ExceptionType e)
{
    // معالجة الاستثناء
}
finally
{
    // كود يتم تنفيذه دائمًا (اختياري)
}
```

## الأمثلة
### مثال أساسي
```csharp
try
{
    int result = 10 / int.Parse("0"); // قد يسبب استثناء بسبب القسمة على صفر
}
catch (DivideByZeroException ex)
{
    Console.WriteLine("خطأ: لا يمكن القسمة على صفر.");
}
catch (FormatException ex)
{
    Console.WriteLine("خطأ: صيغة غير صحيحة.");
}
finally
{
    Console.WriteLine("تم الانتهاء من تنفيذ الكود.");
}
```

### مثال آخر مع استخدام `finally`
```csharp
try
{
    // محاولة فتح ملف
    using (StreamReader sr = new StreamReader("file.txt"))
    {
        string line = sr.ReadLine();
        Console.WriteLine(line);
    }
}
catch (FileNotFoundException ex)
{
    Console.WriteLine("خطأ: الملف غير موجود.");
}
finally
{
    Console.WriteLine("تم الانتهاء من معالجة الملف.");
}
```

## الشرح
### الفخاخ الشائعة
1. **عدم استخدام `catch`**: إذا لم تقم بتغليف الكود بـ `catch`، فإن الاستثناءات غير المعالجة ستؤدي إلى إنهاء التطبيق.
2. **الإفراط في استخدام `try-catch`**: يجب استخدام هذه العبارة بحذر؛ لا تضع كل الكود داخل كتلة `try`، بل استهدف الأقسام التي يُحتمل أن تسبب استثناءات.
3. **عدم استخدام `finally`**: إذا كان لديك موارد تحتاج إلى تحرير (مثل الملفات أو الاتصالات)، يجب استخدام `finally` لضمان تحريرها دائمًا.

## ملخص بعبارة واحدة
عبارة "try" في C# تُستخدم لالتقاط ومعالجة الاستثناءات، مما يعزز استقرار وجودة التطبيقات البرمجية.